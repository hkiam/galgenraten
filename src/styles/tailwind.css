@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
  }
  html, body, #root { @apply h-dvh w-full m-0 p-0 box-border; }
  body { @apply min-w-80 flex items-center justify-center bg-white text-slate-800; }
}

@layer components {
  .container-app { @apply container; }

  .card { @apply w-full max-w-4xl bg-white rounded-2xl p-6 shadow-card border border-slate-200; }
  .card-tight { @apply p-4; }
  .card-row { @apply flex items-center gap-4 p-4 border border-slate-200 rounded-xl transition hover:shadow-md; }

  .section-title { @apply text-2xl font-bold text-slate-800 mb-6; }
  .muted { @apply text-slate-500; }

  /* App version badge */
  .app-version { @apply inline-flex items-center gap-2 bg-white/90 px-4 py-2 rounded-full text-sm text-slate-600 border border-black/10 shadow; }
  .version-label { @apply font-medium; }
  .version-number { @apply font-bold text-primary; }

  .btn { @apply inline-flex items-center justify-center gap-2 rounded-xl font-semibold px-4 py-2 transition disabled:opacity-60 disabled:cursor-not-allowed; }
  .btn-primary { @apply text-white bg-success hover:bg-success-dark shadow; }
  .btn-secondary { @apply bg-slate-100 text-slate-700 border border-slate-300 hover:bg-slate-200; }
  .btn-accent { @apply text-white bg-primary hover:bg-primary-dark shadow; }
  .btn-lg { @apply text-base px-5 py-3 rounded-2xl; }
  .icon-btn { @apply p-2 rounded-lg text-slate-600 hover:bg-slate-100; }

  .grid-autofill-250 { @apply grid gap-4; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }

  .input { @apply w-full rounded-lg border-2 border-slate-200 px-3 py-2 text-base outline-none focus:border-primary focus:ring-2 focus:ring-primary/10; }

  .notify-backdrop { @apply fixed inset-0 z-[1000] bg-black/80 flex justify-center items-start p-8; animation: slide-in 0.3s ease-out; }
  .notify-card { @apply bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl text-center border-l-4; }
  .notify-card.success { @apply border-success; }
  .notify-card.update { @apply border-primary; }

  /* Modal tokens */
  .modal-backdrop { @apply fixed inset-0 z-[1000] bg-black/60 flex items-center justify-center p-4; }
  .modal-content { @apply bg-white rounded-2xl shadow-2xl border border-slate-200 w-full; animation: slide-in 0.2s ease-out; }
  .modal-small { @apply max-w-md; }
  .modal-medium { @apply max-w-lg; }
  .modal-large { @apply max-w-3xl; }
  .modal-header { @apply flex items-center justify-between px-8 pt-6 pb-4 border-b border-slate-200; }
  .modal-title { @apply m-0 text-slate-800 text-xl font-bold; }
  .modal-close { @apply icon-btn text-xl; }
  .modal-body { @apply p-8; }

  /* Word input tokens */
  .panel { @apply card; }
  .panel-center { @apply text-center; }
  .progress { @apply mb-6; }
  .progress-text { @apply mb-2 font-semibold text-slate-700; }
  .progress-track { @apply h-2 bg-slate-200 rounded-md overflow-hidden; }
  .progress-value { @apply h-full bg-gradient-to-r from-success to-primary transition-[width]; }
  .player-indicator { @apply flex items-center gap-2 mb-4 text-lg; }
  .word-input-form { @apply flex gap-3; }
  .players-status { @apply mt-8; }
  .players-status-grid { @apply grid gap-3 grid-cols-1 sm:grid-cols-2; }
  .player-status { @apply grid grid-cols-[auto_1fr_auto] items-center gap-3 p-4 border-2 border-slate-200 rounded-lg; }
  .player-status.current { @apply border-primary bg-blue-50; }
  .player-status.completed { @apply border-success bg-green-50; }

  /* Game screen tokens */
  .game-card { @apply card; }
  .current-player-info { @apply flex items-center gap-2 mb-4 text-lg; }
  .game-area { @apply flex flex-col items-center gap-4 p-6 border border-slate-200 rounded-xl bg-white; }
  .word-display { @apply text-2xl md:text-3xl font-mono tracking-widest; }
  .wrong-letters { @apply text-slate-600; }
  .tries-remaining { @apply text-slate-600; }
  .player-completed .won { @apply text-success font-semibold; }
  .player-completed .lost { @apply text-danger font-semibold; }

  /* Hangman canvas */
  .hangman-canvas { @apply border border-slate-800 mb-5 max-w-full h-auto; }

  /* Finished screen tokens */
  .finished-card { @apply card; }
  .result-section { @apply text-center mb-8; }
  .winner-card { @apply flex items-center justify-center gap-4 p-6 rounded-2xl bg-gradient-to-br from-green-50 to-green-100 my-4; }
  .round-results { @apply flex flex-col gap-3; }
  .round-result { @apply grid grid-cols-[auto_1fr_auto_auto] items-center gap-4 p-4 border-2 border-slate-200 rounded-lg; }
  .round-result.won { @apply border-success bg-green-50; }
  .round-result.lost { @apply border-danger bg-red-50; }
  .won-badge { @apply text-green-700 font-semibold; }
  .lost-badge { @apply text-red-700 font-semibold; }
  .highscore-list { @apply flex flex-col gap-2; }
  .highscore-entry { @apply grid grid-cols-[auto_auto_1fr_auto_auto] items-center gap-3 p-3 border border-slate-200 rounded-lg; }
  .highscore-entry.first-place { @apply bg-yellow-50 border-yellow-300; }
  .highscore-entry.recent-winner { @apply ring-2 ring-success/40; }

  /* Virtual keyboard */
  .virtual-keyboard { @apply w-full max-w-2xl mx-auto; }
  .keyboard-row { @apply flex justify-center gap-2 mb-2; }
  .keyboard-button { @apply min-w-9 px-3 py-2 rounded-lg border-2 border-slate-200 bg-white font-semibold text-slate-700 shadow-sm transition disabled:opacity-60 disabled:cursor-not-allowed; }
  .keyboard-button:hover { @apply border-primary; }
  .keyboard-button.used { @apply bg-slate-100 border-slate-300 text-slate-400; }
}

@keyframes slide-in {
  from { opacity: 0; transform: translateY(-100%); }
  to { opacity: 1; transform: translateY(0); }
}
